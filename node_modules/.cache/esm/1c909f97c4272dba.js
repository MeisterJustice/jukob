let multer,getLodge,postLodge,getLodgeShowPage,getNewLodge,deleteItem,putLodge,getPutLodge,errorHandler,isLoggedIn,checkIfUserExists,isValidPassword;_c42‍.w("multer",[["default",["multer"],function(v){multer=v}]]);_c42‍.w("../controllers/lodge",[["getLodge",["getLodge"],function(v){getLodge=v}],["postLodge",["postLodge"],function(v){postLodge=v}],["getLodgeShowPage",["getLodgeShowPage"],function(v){getLodgeShowPage=v}],["getNewLodge",["getNewLodge"],function(v){getNewLodge=v}],["deleteItem",["deleteItem"],function(v){deleteItem=v}],["putLodge",["putLodge"],function(v){putLodge=v}],["getPutLodge",["getPutLodge"],function(v){getPutLodge=v}]]);_c42‍.w("../middleware",[["errorHandler",["errorHandler"],function(v){errorHandler=v}]]);_c42‍.w("../validation/index",[["isLoggedIn",["isLoggedIn"],function(v){isLoggedIn=v}],["checkIfUserExists",["checkIfUserExists"],function(v){checkIfUserExists=v}],["isValidPassword",["isValidPassword"],function(v){isValidPassword=v}]]);var express = require('express');
var router = express.Router();
var { storage } = require('../config/cloudinary');

const upload = multer({ storage });
























router.get('/', errorHandler(getLodge));

router.get('/new', isLoggedIn, errorHandler(getNewLodge));

router.post('/', isLoggedIn, upload.array('images', 5), errorHandler(postLodge));

router.get('/:id', errorHandler(getLodgeShowPage));

router.get('/:id/update', isLoggedIn, errorHandler(getPutLodge));

router.put('/:id', isLoggedIn, errorHandler(putLodge));

router.delete('/:id', errorHandler(deleteItem));

module.exports = router;
